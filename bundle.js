(()=>{"use strict";const e=new class{constructor(){this.currentValue="0",this.previousValue=null,this.operation=null,this.waitingForNewValue=!1,this.error=!1}inputNumber(e){this.error||(this.waitingForNewValue||"0"===this.currentValue?(this.currentValue=e,this.waitingForNewValue=!1):this.currentValue+=e)}inputOperation(e){this.operation&&!this.waitingForNewValue&&this.calculate(),this.operation=e,this.previousValue=this.currentValue,this.waitingForNewValue=!0}calculate(){if(!this.operation||this.error)return;if(this.waitingForNewValue)return this.operation=null,this.previousValue=null,void(this.waitingForNewValue=!1);const e=this.previousValue?.replace(/\s+/g,"").replace(",","."),t=this.currentValue.replace(/\s+/g,"").replace(",",".");if(!e)return;const r=!this.previousValue.includes(","),i=!this.currentValue.includes(",");try{let a;if("Ã·"===this.operation){const r=parseFloat(e),i=parseFloat(t);if(0===i)return this.currentValue="ĞĞ° 0 Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒ Ğ½ĞµĞ»ÑŒĞ·Ñ",void(this.error=!0);a=r/i,this.currentValue=a.toString().replace(".",",").replace(/(,\d*?)0+$/,"$1").replace(/,$/,"")}else if(r&&i){const r=BigInt(e),i=BigInt(t);switch(this.operation){case"+":a=r+i;break;case"-":a=r-i;break;case"x":a=r*i;break;default:return}this.currentValue=a.toString()}else{const r=parseFloat(e),i=parseFloat(t);switch(this.operation){case"+":a=r+i;break;case"-":a=r-i;break;case"x":a=r*i;break;default:return}const s=a.toString().replace(".",",").replace(/(,\d*?)0+$/,"$1").replace(/,$/,"");this.currentValue=s}this.operation=null,this.previousValue=null,this.waitingForNewValue=!0}catch(e){console.error("ĞÑˆĞ¸Ğ±ĞºĞ° Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ:",e),this.currentValue="ĞÑˆĞ¸Ğ±ĞºĞ°",this.error=!0}}clear(){this.currentValue="0",this.previousValue=null,this.operation=null,this.error=!1}getDisplay(){return this.currentValue}applyPercent(){if(this.error)return;const e=parseFloat(this.currentValue.replace(",","."))/100;this.currentValue=e.toString().replace(".",",")}toggleSign(){if(this.error)return;const e=0===(t=parseFloat(this.currentValue.replace(",",".")))?0:-t;var t;this.currentValue=e.toString().replace(".",","),this.waitingForNewValue&&(this.operation=null,this.previousValue=null,this.waitingForNewValue=!1)}},t=document.getElementById("display"),r=document.getElementById("display-text"),i=document.querySelectorAll(".button"),a=document.getElementById("theme-toggle");i.forEach(i=>{i.addEventListener("click",()=>{const a=i.textContent;switch(!0){case i.classList.contains("dark")&&"decimal"!==i.id:e.inputNumber(a);break;case"decimal"===i.id:e.getDisplay().includes(",")||e.inputNumber(",");break;case"clear"===i.id:e.clear();break;case"="===a:e.calculate();break;case i.classList.contains("orange")&&"="!==a:e.inputOperation(a);break;case"percent"===i.id:e.applyPercent();break;case"toggleSign"===i.id:e.toggleSign()}r.textContent=e.getDisplay(),t.scrollLeft=t.scrollWidth})}),a.addEventListener("click",()=>{const e=document.body.classList.toggle("dark-theme");a.textContent=e?"â˜€ï¸":"ğŸŒ™"})})();